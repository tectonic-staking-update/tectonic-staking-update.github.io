(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{84552:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Ee}});var a=r(11163),n=r(67294),o=r(66737),s=r(96978),i=r(7628),l=r(86010),c=r(20049),d=r(73212),u=r(83461),p=r(88767),m=r(43968),x=r(80639),f=r(92314),h=r(59499),v=r(94316),b=r.n(v),y=r(70602),w=r(11521);var N=r(76305),j=r(96438),g=r(85893),A=function(e){var t=e.pool,r=e.onChangeFilter;return(0,g.jsxs)("div",{className:"flex h-[24px] flex-row items-end text-[14px] font-medium text-white mobile:h-[21px] mobile:font-normal",children:[(0,g.jsx)("div",{className:"text-[16px] mobile:text-[14px]",children:"Pool:"}),(0,g.jsxs)(i.Lt,{className:"ml-[6px] h-[20px] text-[12px] font-semibold mobile:h-[19px]",onChange:function(e){return r(e)},value:t,children:[(0,g.jsx)(j.Z,{value:"MAIN",className:"border-t-[1px] border-greyBorder",children:"Main Pool"}),(0,g.jsx)(j.Z,{value:"VENO",className:"border-t-[1px] border-greyBorder",children:"Veno Pool"}),(0,g.jsx)(j.Z,{value:"DEFI",className:"border-t-[1px] border-greyBorder",children:"DEFI Pool"})]})]})};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=(0,i.JH)({}).theme,D={POSITIVE_BAR:{color:I.colors.yellow,name:"Supplying"},NEGATIVE_BAR:{color:I.colors.green,name:"Withdrawing"},LINE:{color:I.colors.pinkSecondary,name:"Total Supply"}},U={POSITIVE_BAR:{color:I.colors.yellow,name:"Borrowing"},NEGATIVE_BAR:{color:I.colors.green,name:"Repaying"},LINE:{color:I.colors.pinkSecondary,name:"Total Borrow"}};function k(e){var t,r=e.assets,a=(0,n.useContext)(i.Dl);return(0,g.jsx)("span",{className:"uppercase",children:(null===(t=r.find((function(e){return e.symbol===a.selected})))||void 0===t?void 0:t.name)||"All"})}function C(e){var t=e.assets,r=(0,n.useContext)(i.Dl);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"cursor-pointer p-2 text-left text-mediumSmall text-white",onClick:function(){return r.onChange("ALL")},children:"All"}),t.map((function(e){return(0,g.jsx)("div",{className:"cursor-pointer border-t-[1px] border-greyBorder p-2 text-left text-mediumSmall text-white",onClick:function(){return r.onChange(e.symbol)},children:e.name},e.symbol)}))]})}var B=function(e){var t=e.assetsMain,r=e.assetsVeno,a=e.assetsDefi,o=e.totalSupplyBorrowFilter,s=e.supplyFilter,c=e.borrowFilter,d=e.setTotalSupplyBorrowFilter,u=e.setSupplyFilter,f=e.setBorrowFilter,h=e.totalSupplyBorrowChartData,v=e.utilizationChartData,j=e.supplyBarChartData,S=e.borrowBarChartData,B=e.filters,F=e.onFilterChange,M=function(){var e=(0,m.p)(x.S.RISK_DAO_BAD_DEBT)(),t=e.queryKey,r=e.queryFn,a=(0,p.useQuery)(t,r),o=a.data,s=a.isLoading;return{badDebt:(0,n.useMemo)((function(){if(!o||s)return null;var e=o.updated,t=o.total,r=o.decimals,a=o.tvl,n=o.users;return{date:(0,y.mr)(1e3*Number(e)),badDebtTotal:(0,w.kP)(-Number(t)/Math.pow(10,Number(r))),badDebtRatio:(0,w.kP)(100*-Number(t)/Number(a)),lastUpdated:(0,y.PK)(1e3*Number(e)),insolventAccounts:n.length}}),[o,s]),isLoading:s}}(),T=M.badDebt,L=M.isLoading,P=function(e){return"VENO"===e?r:"DEFI"===e?a:t};return(0,g.jsxs)("div",{className:"flex flex-col justify-start gap-3",children:[(0,g.jsxs)("div",{className:"flex w-full flex-row gap-2 mobile:flex-wrap",children:[(0,g.jsx)("div",{className:"w-1/2 grow-0 border-1 border-white border-opacity-12 mobile:w-full mobile:border-0",children:(0,g.jsxs)("div",{className:"flex flex-col p-2 py-3 mobile:p-0",children:[(0,g.jsxs)("div",{className:"flex h-[65px] flex-col gap-2 mobile:h-auto",children:[(0,g.jsx)("div",{className:"text-[20px] font-bold text-white",children:"Total Supply & Total Borrow"}),(0,g.jsx)(A,{onChangeFilter:function(e){return F(e,"activeTotalSupplyAndBorrow")},pool:B.activeTotalSupplyAndBorrow}),(0,g.jsxs)("div",{className:"flex h-[24px] flex-row items-end text-[14px] font-medium text-white mobile:h-[21px] mobile:font-normal",children:[(0,g.jsx)("div",{className:"text-[16px] mobile:text-[14px]",children:"Filter:"}),(0,g.jsxs)(i.Lt,{className:"ml-[6px] h-[20px] text-[12px] font-semibold mobile:h-[19px]",onChange:function(e){return d(e)},value:o,children:[(0,g.jsx)(N.Z,{value:"ALL",children:"All"}),(0,g.jsx)(N.Z,{value:"SUPPLY",className:"border-t-[1px] border-greyBorder",children:"Supply"}),(0,g.jsx)(N.Z,{value:"BORROW",className:"border-t-[1px] border-greyBorder",children:"Borrow"})]})]})]}),(0,g.jsx)("div",{className:(0,l.Z)("mx-auto mt-5 w-full",h.length>1?"h-[284px]":"h-[254px]"),children:h.length>0?(0,g.jsx)(i.wW,{data:h,legend:{SUPPLY:{color:I.colors.pinkSecondary,name:"Supply"},BORROW:{color:I.colors.yellow,name:"Borrow"}},xTickFormat:function(e){return new Date(1e3*Number(e)).toLocaleString("en-US",{month:"short",day:"numeric"})},yTickFormat:function(e){return b()(e).format({thousandSeparated:!0,trimMantissa:!0,average:!0,mantissa:2})},tooltipYValueFormat:function(e){return"$".concat(Math.round(e).toLocaleString("en-US"))}}):(0,g.jsx)(i.Od,{})})]})}),(0,g.jsx)("div",{className:"w-1/2 grow-0 border-1 border-white border-opacity-12 mobile:mt-[75px] mobile:w-full mobile:border-0",children:(0,g.jsxs)("div",{className:"flex flex-col p-2 py-3 mobile:p-0",children:[(0,g.jsxs)("div",{className:"flex h-[65px] flex-col gap-2 mobile:h-auto",children:[(0,g.jsx)("div",{className:"text-[20px] font-bold text-white",children:"Total Utilization"}),(0,g.jsx)(A,{onChangeFilter:function(e){return F(e,"activeTotalUtilization")},pool:B.activeTotalUtilization})]}),(0,g.jsx)("div",{className:"mx-auto mt-3 h-[254px] w-full",children:v.length>0?(0,g.jsx)(i.wW,{data:v,legend:{UTILIZATION:{color:I.colors.red}},xTickFormat:function(e){return new Date(1e3*Number(e)).toLocaleString("en-US",{month:"short",day:"numeric"})},yTickFormat:function(e){return(100*Number(e)).toString()},tooltipYValueFormat:function(e){return"".concat((100*e).toFixed(2),"%")}}):(0,g.jsx)(i.Od,{})})]})})]}),(0,g.jsx)("div",{className:"w-full border-1 border-white border-opacity-12 mobile:mt-[55px]  mobile:border-0",children:(0,g.jsxs)("div",{className:"flex flex-col p-2 py-3 mobile:p-0",children:[(0,g.jsxs)("div",{className:"flex h-[65px] flex-col gap-2 mobile:h-auto",children:[(0,g.jsx)("div",{className:"text-[20px] font-bold text-white",children:"Supplying, Withdrawing & Total Supply"}),(0,g.jsx)(A,{onChangeFilter:function(e){return F(e,"activeSupplyingWithdrawingAndTotalSupply")},pool:B.activeSupplyingWithdrawingAndTotalSupply}),(0,g.jsxs)("div",{className:"flex h-[24px] flex-row items-end text-[14px] font-medium text-white mobile:h-[21px] mobile:font-normal",children:[(0,g.jsx)("div",{className:"text-[16px] mobile:text-[14px]",children:"Filter:"}),(0,g.jsx)(i.Lt,{className:"ml-[6px] h-[20px] text-[12px] font-semibold mobile:h-[19px]",onChange:u,value:s,displayValue:(0,g.jsx)(k,{assets:P(B.activeSupplyingWithdrawingAndTotalSupply)}),children:(0,g.jsx)(C,{assets:P(B.activeSupplyingWithdrawingAndTotalSupply)})})]})]}),(0,g.jsx)("div",{className:"mx-auto mt-5 h-[322px] w-full",children:j.positiveBarData.length>0?(0,g.jsx)(i.hW,O(O({},j),{},{legend:D,xTickFormat:function(e){return new Date(1e3*Number(e)).toLocaleString("en-US",{month:"short",day:"numeric"})},yTickFormat:function(e){return b()(e).format({thousandSeparated:!0,trimMantissa:!0,average:!0,mantissa:2})},tooltipYValueFormat:function(e){return"$".concat(Math.round(e).toLocaleString("en-US"))}})):(0,g.jsx)(i.Od,{})})]})}),(0,g.jsx)("div",{className:"w-full border-1 border-white border-opacity-12 mobile:mt-[75px] mobile:border-0 ",children:(0,g.jsxs)("div",{className:"flex flex-col p-2 py-3 mobile:p-0",children:[(0,g.jsxs)("div",{className:"flex h-[65px] flex-col gap-2 mobile:h-auto",children:[(0,g.jsx)("div",{className:"text-[20px] font-bold text-white",children:"Borrowing, Repaying & Total Borrow"}),(0,g.jsx)(A,{onChangeFilter:function(e){return F(e,"activeBorrowingRepayingAndTotalBorrow")},pool:B.activeBorrowingRepayingAndTotalBorrow}),(0,g.jsxs)("div",{className:"flex h-[24px] flex-row items-end text-[14px] font-medium text-white mobile:h-[21px] mobile:font-normal",children:[(0,g.jsx)("div",{className:"text-[16px] mobile:text-[14px]",children:"Filter:"}),(0,g.jsx)(i.Lt,{className:"ml-[6px] h-[20px] text-[12px] font-semibold mobile:h-[19px]",onChange:f,value:c,displayValue:(0,g.jsx)(k,{assets:P(B.activeBorrowingRepayingAndTotalBorrow)}),children:(0,g.jsx)(C,{assets:P(B.activeBorrowingRepayingAndTotalBorrow)})})]})]}),(0,g.jsx)("div",{className:"mx-auto mt-5 h-[322px] w-full",children:S.positiveBarData.length>0?(0,g.jsx)(i.hW,O(O({},S),{},{legend:U,xTickFormat:function(e){return new Date(1e3*Number(e)).toLocaleString("en-US",{month:"short",day:"numeric"})},yTickFormat:function(e){return b()(e).format({thousandSeparated:!0,trimMantissa:!0,average:!0,mantissa:2})},tooltipYValueFormat:function(e){return"$".concat(Math.round(e).toLocaleString("en-US"))}})):(0,g.jsx)(i.Od,{})})]})}),(0,g.jsx)("div",{className:"w-full border-1 border-white border-opacity-12 mobile:mt-[75px]  mobile:border-0",children:(0,g.jsxs)("div",{className:"p-2 py-3 mobile:p-0",children:[(0,g.jsxs)("div",{className:"mb-2 flex items-center gap-x-1 text-[20px] font-bold text-white",children:[(0,g.jsx)("span",{children:"Protocol Bad Debt"}),(0,g.jsx)("a",{href:"https://bad-debt.riskdao.org/",target:"_blank",rel:"noreferrer",children:(0,g.jsx)(i.JO.ExternalURL,{color:"yellow"})})]}),(0,g.jsx)("div",{className:"pb-1 mobile:overflow-y-scroll",children:(0,g.jsxs)(i.iA,{className:"min-w-[900px]  bg-testBlue desktop:mr-2 mobile:min-w-[720px] mobile:border-white mobile:border-opacity-30",children:[(0,g.jsx)(i.iA.Header,{className:"h-[74px] text-[14px]",children:(0,g.jsxs)(i.iA.HeaderRow,{className:"mobile:border-white mobile:border-opacity-30",style:{height:74},children:[(0,g.jsx)(i.iA.HeaderCell,{className:"font-normal mobile:font-semibold",children:"Date"}),(0,g.jsx)(i.iA.HeaderCell,{className:"font-normal mobile:font-semibold",children:"Bad Debt (USD)"}),(0,g.jsx)(i.iA.HeaderCell,{className:"font-normal mobile:font-semibold",children:"Bad Debt Ratio (%)"}),(0,g.jsx)(i.iA.HeaderCell,{className:"font-normal mobile:font-semibold",children:"Last Update"}),(0,g.jsx)(i.iA.HeaderCell,{className:"font-normal mobile:font-semibold",children:"No. of insolvent accounts"})]})}),(0,g.jsx)(i.iA.Body,{className:"text-[12px] font-medium ",children:(0,g.jsxs)(i.iA.BodyRow,{className:"text-white text-opacity-60 mobile:border-white mobile:border-opacity-30",children:[(0,g.jsx)(i.iA.BodyCell,{children:L?(0,g.jsx)(i.Od,{}):null===T||void 0===T?void 0:T.date}),(0,g.jsx)(i.iA.BodyCell,{children:L?(0,g.jsx)(i.Od,{}):null===T||void 0===T?void 0:T.badDebtTotal}),(0,g.jsx)(i.iA.BodyCell,{children:L?(0,g.jsx)(i.Od,{}):null===T||void 0===T?void 0:T.badDebtRatio}),(0,g.jsx)(i.iA.BodyCell,{children:L?(0,g.jsx)(i.Od,{}):null===T||void 0===T?void 0:T.lastUpdated}),(0,g.jsx)(i.iA.BodyCell,{children:L?(0,g.jsx)(i.Od,{}):null===T||void 0===T?void 0:T.insolventAccounts})]})})]})})]})})]})};function F(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw o}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=function(e){var t=e.assetsMain,r=e.assetsVeno,a=e.assetsDefi,o=e.financialsMainData,s=e.financialsVenoData,i=e.financialsDefiData,l=(0,n.useState)("ALL"),c=l[0],d=l[1],u=(0,n.useState)("ALL"),f=u[0],v=u[1],b=(0,n.useState)("ALL"),y=b[0],w=b[1],N=(0,n.useState)({activeTotalSupplyAndBorrow:"MAIN",activeTotalUtilization:"MAIN",activeSupplyingWithdrawingAndTotalSupply:"MAIN",activeBorrowingRepayingAndTotalBorrow:"MAIN"}),j=N[0],A=N[1],S=function(e){var t=(0,m.p)(x.S.GRAPH_FINANCIALS_SUPPLYING_DATA)("t"+e),r=(0,p.useQuery)(t.queryKey,t.queryFn,{enabled:"ALL"!==e}),a=r.data,o=r.isLoading;return(0,n.useMemo)((function(){return o||!a?{isLoading:o}:{isLoading:o,financialsSupplyingData:a.map((function(e){var t=e.date,r=e.sumOfSuppliesInUsd,a=e.sumOfRedeemsInUsd,n=e.totalSupplyInUsd;return{date:t,sumOfSuppliesInUsd:parseFloat(r),sumOfRedeemsInUsd:parseFloat(a),totalSupplyInUsd:parseFloat(n)}})).reverse()}}),[o,a])}(f),O=S.financialsSupplyingData,I=function(e){var t=(0,m.p)(x.S.GRAPH_FINANCIALS_BORROWING_DATA)("t"+e),r=(0,p.useQuery)(t.queryKey,t.queryFn,{enabled:"ALL"!==e}),a=r.data,o=r.isLoading;return(0,n.useMemo)((function(){return o||!a?{isLoading:o}:{isLoading:o,financialsBorrowingData:a.map((function(e){var t=e.date,r=e.sumOfBorrowsInUsd,a=e.sumOfRepaysInUsd,n=e.totalBorrowInUsd;return{date:t,sumOfBorrowsInUsd:parseFloat(r),sumOfRepaysInUsd:parseFloat(a),totalBorrowInUsd:parseFloat(n)}})).reverse()}}),[o,a])}(y).financialsBorrowingData,D=function(e){var t=(0,m.p)(x.S.GRAPH_VENO_FINANCIALS_SUPPLYING_DATA)("t"+e+"l"),r=(0,p.useQuery)(t.queryKey,t.queryFn,{enabled:"ALL"!==e}),a=r.data,o=r.isLoading;return(0,n.useMemo)((function(){return o||!a?{isLoading:o}:{isLoading:o,financialsVenoSupplyingData:a.map((function(e){var t=e.date,r=e.sumOfSuppliesInUsd,a=e.sumOfRedeemsInUsd,n=e.totalSupplyInUsd;return{date:t,sumOfSuppliesInUsd:parseFloat(r),sumOfRedeemsInUsd:parseFloat(a),totalSupplyInUsd:parseFloat(n)}})).reverse()}}),[o,a])}(f),U=D.financialsVenoSupplyingData,k=function(e){var t=(0,m.p)(x.S.GRAPH_VENO_FINANCIALS_BORROWING_DATA)("t"+e+"l"),r=(0,p.useQuery)(t.queryKey,t.queryFn,{enabled:"ALL"!==e}),a=r.data,o=r.isLoading;return(0,n.useMemo)((function(){return o||!a?{isLoading:o}:{isLoading:o,financialsVenoBorrowingData:a.map((function(e){var t=e.date,r=e.sumOfBorrowsInUsd,a=e.sumOfRepaysInUsd,n=e.totalBorrowInUsd;return{date:t,sumOfBorrowsInUsd:parseFloat(r),sumOfRepaysInUsd:parseFloat(a),totalBorrowInUsd:parseFloat(n)}})).reverse()}}),[o,a])}(y).financialsVenoBorrowingData,C=function(e){var t=(0,m.p)(x.S.GRAPH_DEFI_FINANCIALS_SUPPLYING_DATA)("t"+e+"d"),r=(0,p.useQuery)(t.queryKey,t.queryFn,{enabled:"ALL"!==e}),a=r.data,o=r.isLoading;return(0,n.useMemo)((function(){return o||!a?{isLoading:o}:{isLoading:o,financialsDefiSupplyingData:a.map((function(e){var t=e.date,r=e.sumOfSuppliesInUsd,a=e.sumOfRedeemsInUsd,n=e.totalSupplyInUsd;return{date:t,sumOfSuppliesInUsd:parseFloat(r),sumOfRedeemsInUsd:parseFloat(a),totalSupplyInUsd:parseFloat(n)}})).reverse()}}),[o,a])}(f),M=C.financialsDefiSupplyingData,T=function(e){var t=(0,m.p)(x.S.GRAPH_DEFI_FINANCIALS_BORROWING_DATA)("t"+e+"d"),r=(0,p.useQuery)(t.queryKey,t.queryFn,{enabled:"ALL"!==e}),a=r.data,o=r.isLoading;return(0,n.useMemo)((function(){return o||!a?{isLoading:o}:{isLoading:o,financialsDefiBorrowingData:a.map((function(e){var t=e.date,r=e.sumOfBorrowsInUsd,a=e.sumOfRepaysInUsd,n=e.totalBorrowInUsd;return{date:t,sumOfBorrowsInUsd:parseFloat(r),sumOfRepaysInUsd:parseFloat(a),totalBorrowInUsd:parseFloat(n)}})).reverse()}}),[o,a])}(y).financialsDefiBorrowingData,P=function(e){return"VENO"===e?s:"DEFI"===e?i:o},R=(0,n.useMemo)((function(){var e=P(j.activeTotalSupplyAndBorrow);if(!e||0===e.length)return[];var t=e.map((function(e){var t=e.totalSupplyInUsd;return{x:e.date,y:t,label:"SUPPLY"}})),r=e.map((function(e){var t=e.totalBorrowInUsd;return{x:e.date,y:t,label:"BORROW"}}));switch(c){case"SUPPLY":return[t];case"BORROW":return[r];default:return[t,r]}}),[c,o,s,i,j.activeTotalSupplyAndBorrow]),E=(0,n.useMemo)((function(){var e=P(j.activeTotalUtilization);return e&&0!==e.length?[e.map((function(e){var t=e.totalUtilization;return{x:e.date,y:t,label:"UTILIZATION"}}))]:[]}),[o,s,i,j.activeTotalUtilization]),_=(0,n.useMemo)((function(){var e={positiveBarData:[],negativeBarData:[],lineChartData:[]};if("ALL"===f){var t=P(j.activeSupplyingWithdrawingAndTotalSupply);if(!t||0===t.length)return e;var r,a=F(t);try{for(a.s();!(r=a.n()).done;){var n=r.value,o=n.date,s=n.sumOfSuppliesInUsd,i=n.sumOfRedeemsInUsd,l=n.totalSupplyInUsd;e.positiveBarData.push({x:o,y:s}),e.negativeBarData.push({x:o,y:i}),e.lineChartData.push({x:o,y:l})}}catch(b){a.e(b)}finally{a.f()}}else{var c="VENO"===j.activeSupplyingWithdrawingAndTotalSupply?U:"DEFI"===j.activeSupplyingWithdrawingAndTotalSupply?M:O;if(!c||0===c.length)return e;var d,u=F(c);try{for(u.s();!(d=u.n()).done;){var p=d.value,m=p.date,x=p.sumOfSuppliesInUsd,h=p.sumOfRedeemsInUsd,v=p.totalSupplyInUsd;e.positiveBarData.push({x:m,y:x}),e.negativeBarData.push({x:m,y:h}),e.lineChartData.push({x:m,y:v})}}catch(b){u.e(b)}finally{u.f()}}return e}),[o,s,i,f,U,O,M,j.activeSupplyingWithdrawingAndTotalSupply]),q=(0,n.useMemo)((function(){var e={positiveBarData:[],negativeBarData:[],lineChartData:[]};if("ALL"===y){var t=P(j.activeBorrowingRepayingAndTotalBorrow);if(!t||0===t.length)return e;var r,a=F(t);try{for(a.s();!(r=a.n()).done;){var n=r.value,o=n.date,s=n.sumOfBorrowsInUsd,i=n.sumOfRepaysInUsd,l=n.totalBorrowInUsd;e.positiveBarData.push({x:o,y:s}),e.negativeBarData.push({x:o,y:i}),e.lineChartData.push({x:o,y:l})}}catch(v){a.e(v)}finally{a.f()}}else{var c="VENO"===j.activeBorrowingRepayingAndTotalBorrow?k:"DEFI"===j.activeBorrowingRepayingAndTotalBorrow?T:I;if(!c||0===c.length)return e;var d,u=F(c);try{for(u.s();!(d=u.n()).done;){var p=d.value,m=p.date,x=p.sumOfBorrowsInUsd,f=p.sumOfRepaysInUsd,h=p.totalBorrowInUsd;e.positiveBarData.push({x:m,y:x}),e.negativeBarData.push({x:m,y:f}),e.lineChartData.push({x:m,y:h})}}catch(v){u.e(v)}finally{u.f()}}return e}),[o,s,i,y,k,I,T,j.activeBorrowingRepayingAndTotalBorrow]);return(0,g.jsx)(B,{assetsMain:t,assetsVeno:r,assetsDefi:a,totalSupplyBorrowFilter:c,supplyFilter:f,borrowFilter:y,setTotalSupplyBorrowFilter:d,setSupplyFilter:v,setBorrowFilter:w,totalSupplyBorrowChartData:R,utilizationChartData:E,supplyBarChartData:_,borrowBarChartData:q,filters:j,onFilterChange:function(e,t){A(L(L({},j),{},(0,h.Z)({},t,e))),"activeSupplyingWithdrawingAndTotalSupply"===t&&v("ALL"),"activeBorrowingRepayingAndTotalBorrow"===t&&w("ALL")}})},R=r(95627),E=r.n(R),_={date:"Date",sumOfSuppliesInUsd:"Supplying (USD)",sumOfRedeemsInUsd:"Withdrawals (USD)",sumOfBorrowsInUsd:"Borrowing (USD)",sumOfRepaysInUsd:"Repayment (USD)",sumOfLiquidationsInUsd:"Liquidations (USD)",totalSupplyInUsd:"Total Supply (USD)",totalBorrowInUsd:"Total Borrow (USD)",sumOfAccruedInterestInUsd:"Interests (USD)",totalUtilization:"Total Utilization",protocolRevenueInUsd:"Protocol Revenue",protocolInterestRevenueInUsd:"Protocol Interest Revenue",protocolLiquidationRevenueInUsd:"Protocol Liquidation Revenue",supplierRevenueInUsd:"Supplier Revenue",tonicPrice:"Tonic Price",supplyIncentive:"Supply Incentive (TONIC)",supplyIncentiveInUsd:"Supply Incentive (USD)",borrowIncentive:"Borrow Incentive (TONIC)",borrowIncentiveInUsd:"Borrow Incentive (USD)",totalSupplyIncentive:"Total Supply Incentive (TONIC)",totalSupplyIncentiveInUsd:"Total Supply Incentive (USD)",totalBorrowIncentive:"Total Borrow Incentive (TONIC)",totalBorrowIncentiveInUsd:"Total Borrow Incentive (USD)",supplierUniqueAddressAmount:"Daily Suppliers",borrowerUniqueAddressAmount:"Daily Borrowers",liquidatedUniqueAddressAmount:"Daily Liquidated Borrowers",liquidatorUniqueAddressAmount:"Daily Liquidators",totalSupplierUniqueAddressAmount:"Total Suppliers",totalBorrowerUniqueAddressAmount:"Total Borrowers"};function q(e,t){return"$".concat(V(e,t))}function V(e,t){return b()(e).format({thousandSeparated:!0,mantissa:t||2,average:!0})}var Z=function(e,t){return b()(e).format({thousandSeparated:!0,mantissa:t||2})},H=function(e,t){return t?Z(e,2):q(e)},G=function(e,t){return t?Z(e,2):V(e)},W=function(e,t){return null===e||void 0===e?void 0:e.map((function(e){return[new Date(1e3*e.date).toISOString().substring(0,10),H(e.sumOfSuppliesInUsd,t),H(e.sumOfRedeemsInUsd,t),H(e.sumOfBorrowsInUsd,t),H(e.sumOfRepaysInUsd,t),H(e.sumOfLiquidationsInUsd,t),H(e.totalSupplyInUsd,t),H(e.totalBorrowInUsd,t),H(e.sumOfAccruedInterestInUsd,t),"".concat((100*parseFloat(e.totalUtilization)).toFixed(2),"%"),H(e.protocolRevenueInUsd,t),H(e.protocolInterestRevenueInUsd,t),H(e.protocolLiquidationRevenueInUsd,t),H(e.supplierRevenueInUsd,t),q(e.tonicPrice,12),G(e.supplyIncentive,t),H(e.supplyIncentiveInUsd,t),G(e.borrowIncentive,t),H(e.borrowIncentiveInUsd,t),G(e.totalSupplyIncentive,t),H(e.totalSupplyIncentiveInUsd,t),G(e.totalBorrowIncentive,t),H(e.totalBorrowIncentiveInUsd,t),Z(e.supplierUniqueAddressAmount),Z(e.borrowerUniqueAddressAmount),Z(e.liquidatedUniqueAddressAmount),Z(e.liquidatorUniqueAddressAmount),Z(e.totalSupplierUniqueAddressAmount),Z(e.totalBorrowerUniqueAddressAmount)]}))};function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e){var t=e.page,r=e.nPages,a=e.setPage,o=e.data,s=e.orderStatus,d=e.setOrderStatus,u=e.loading,p=e.pool,m=e.setPool,x=(0,c.Z)(),f=(0,n.useState)({scrolledToRight:!1,scrolledToLeft:!0}),h=f[0],v=f[1],b=(0,n.useRef)(null);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"flex flex-row justify-between text-[20px] font-bold text-white",children:[(0,g.jsx)("div",{children:"Daily Snapshots"}),(0,g.jsx)("div",{className:"mobile:hidden",children:(0,g.jsxs)("span",{className:"flex w-[80px] items-center justify-between",children:[(0,g.jsx)(i.JO.Arrow,{width:25,height:25,onClick:function(){if(b.current){var e=Math.max(0,b.current.scrollLeft-b.current.clientWidth);b.current.scrollLeft=e}},className:(0,l.Z)("text-white",h.scrolledToLeft?"text-opacity-60":"cursor-pointer")}),(0,g.jsx)(i.JO.Arrow,{width:25,height:25,className:(0,l.Z)("rotate-180 text-white",h.scrolledToRight?"text-opacity-60":"cursor-pointer"),onClick:function(){if(b.current){var e=b.current.scrollLeft+b.current.clientWidth;b.current.scrollLeft=e}}})]})})]}),(0,g.jsx)(A,{onChangeFilter:function(e){a(1),m(e)},pool:p}),(0,g.jsx)("div",{className:"relative",children:(0,g.jsxs)("div",{className:"jsx-666805198 mt-3 w-[calc(100%+16px)]",children:[(0,g.jsx)(E(),{id:"666805198",children:[".no-scrollbar.jsx-666805198::-webkit-scrollbar{display:none;}",".no-scrollbar.jsx-666805198{-ms-overflow-style:none;-webkit-scrollbar-width:none;-moz-scrollbar-width:none;-ms-scrollbar-width:none;scrollbar-width:none;}"]}),(0,g.jsx)("div",{ref:b,onScroll:function(){if(b.current){var e=b.current.scrollLeft,t=b.current.scrollWidth-document.documentElement.clientWidth;v(0===e?function(e){return K(K({},e),{},{scrolledToLeft:!0})}:e>=t?function(e){return K(K({},e),{},{scrolledToRight:!0})}:{scrolledToLeft:!1,scrolledToRight:!1})}},className:"jsx-666805198 no-scrollbar mr-2 flex w-full flex-row overflow-x-scroll scroll-smooth",children:u?(0,g.jsx)("div",{className:"jsx-666805198 w-full pr-2",children:(0,g.jsx)(i.Od,{})}):(0,g.jsxs)(i.iA,{className:"mr-2 mobile:border-white mobile:border-opacity-30",style:{backgroundColor:x?"#0D0D2F":"#191945",width:"auto"},children:[(0,g.jsx)(i.iA.Header,{className:"h-[74px] text-[14px]",children:(0,g.jsx)(i.iA.HeaderRow,{className:"flex mobile:border-white mobile:border-opacity-30",style:{height:74},children:Object.keys(_).map((function(e){return(0,g.jsxs)(i.iA.HeaderCell,{onClick:function(){return function(e){var t=s.activeKey===e?"asc"===s.sortOrder?"":"asc":"desc";d({activeKey:t?e:"default",sortOrder:t||"desc"})}(e)},className:"relative flex w-[170px] shrink-0 grow-0 cursor-pointer items-center justify-start font-normal mobile:font-semibold",children:[(0,g.jsx)("div",{className:"jsx-666805198",children:_[e]}),s.activeKey===e?(0,g.jsx)("div",{className:"jsx-666805198 pl-1",children:(0,g.jsx)(i.JO.ChevronDown,{className:(0,l.Z)("cursor-pointer text-yellowPrimary","asc"===s.sortOrder&&"rotate-180")})}):(0,g.jsx)("div",{className:"jsx-666805198 w-[22px] shrink-0"})]},e)}))})}),(0,g.jsxs)(i.iA.Body,{className:"text-[12px] font-medium text-white text-opacity-60",children:[o.map((function(e){return(0,g.jsx)(i.iA.BodyRow,{className:"flex mobile:border-white mobile:border-opacity-30",children:e.map((function(t,r){return(0,g.jsx)(i.iA.BodyCell,{className:"flex w-[170px] shrink-0 grow-0 items-center font-normal",children:t},"".concat(r,"-").concat(t).concat(e[0]))}))},e[0])})),r>1&&(0,g.jsx)(i.iA.BodyRow,{className:"text-center text-white mobile:hidden mobile:border-white mobile:border-opacity-30",children:(0,g.jsx)("td",{className:"jsx-666805198",children:(0,g.jsx)("p",{className:"jsx-666805198 absolute -mt-2 flex w-full items-center justify-center",children:(0,g.jsxs)("span",{className:"jsx-666805198 flex w-[200px] items-center justify-between",children:[(0,g.jsx)(i.JO.Arrow,{width:32,height:32,onClick:function(){return t>1&&a(t-1)},className:(0,l.Z)("text-white",t<=1?"opacity-30":"cursor-pointer")}),(0,g.jsxs)("span",{className:"jsx-666805198 text-[16px] font-medium text-white",children:["Page ",t," of ",r]}),(0,g.jsx)(i.JO.Arrow,{width:32,height:32,onClick:function(){return t<r&&a(t+1)},className:(0,l.Z)("rotate-180 text-white",t>=r?"opacity-30":"cursor-pointer")})]})})})})]})]})}),(0,g.jsx)("div",{className:"jsx-666805198 mt-3 hidden w-full items-center justify-center mobile:flex",children:(0,g.jsxs)("span",{className:"jsx-666805198 flex w-full items-center justify-between pr-2",children:[(0,g.jsx)(i.JO.Arrow,{width:32,height:32,"data-testid":"prevPage",onClick:function(){return t>1&&a(t-1)},className:(0,l.Z)("text-white",t<=1?"opacity-30":"cursor-pointer")}),(0,g.jsxs)("span",{className:"jsx-666805198 text-[16px] font-medium text-white",children:["Page ",t," of ",r]}),(0,g.jsx)(i.JO.Arrow,{width:32,height:32,"data-testid":"nextPage",onClick:function(){return t<r&&a(t+1)},className:(0,l.Z)("rotate-180 text-white",t>=r?"opacity-30":"cursor-pointer")})]})})]})})]})}var Q=function(e){var t=e.pool,r=e.setPool,a=(0,n.useState)(1),o=a[0],s=a[1],i=(0,n.useState)({activeKey:"default",sortOrder:"desc"}),l=i[0],c=i[1],d=function(e,t,r){var a="MAIN"===r?(0,m.p)(x.S.GRAPH_NUM_FINANCIAL_STATEMENTS_PER_DAY):"DEFI"===r?(0,m.p)(x.S.GRAPH_DEFI_NUM_FINANCIAL_STATEMENTS_PER_DAY):(0,m.p)(x.S.GRAPH_VENO_NUM_FINANCIAL_STATEMENTS_PER_DAY),n=(0,m.p)("MAIN"===r?x.S.GRAPH_FINANCIAL_STATEMENTS_PER_DAY:"DEFI"===r?x.S.GRAPH_DEFI_FINANCIAL_STATEMENTS_PER_DAY:x.S.GRAPH_VENO_FINANCIAL_STATEMENTS_PER_DAY)(10,10*(e-1),"default"===t.activeKey?"date":t.activeKey,t.sortOrder),o=(0,p.useQuery)(n.queryKey,n.queryFn,{keepPreviousData:!0}),s=o.data,i=o.isLoading,l=(0,p.useQuery)(a.queryKey,a.queryFn),c=l.data,d=l.isLoading;return i||d||!s?{loading:!0}:{loading:!1,data:W(s),number:null!==c&&void 0!==c?c:0}}(o,l,t),u=d.data,f=d.loading,h=d.number;return(0,g.jsx)(Y,{page:o,setPage:s,nPages:h?Math.ceil(h/10):1,data:null!==u&&void 0!==u?u:[],loading:f,orderStatus:l,setOrderStatus:c,pool:t,setPool:r})},J=[{mode:"charts",text:"Charts"},{mode:"table",text:"Table"}];var X=function(e){var t=e.financialsData,r=e.financialsVenoData,a=e.financialsDefiData,o=(0,n.useState)("charts"),l=o[0],c=o[1],d=(0,n.useState)("MAIN"),h=d[0],v=d[1],b=(0,n.useContext)(f.mo).list,y=(0,n.useContext)(f.fG).list,w=(0,n.useContext)(f.pY).list,N=function(e){var t=(0,m.p)("MAIN"===e?x.S.GRAPH_FINANCIAL_STATEMENTS_PER_DAY:"DEFI"===e?x.S.GRAPH_DEFI_FINANCIAL_STATEMENTS_PER_DAY:x.S.GRAPH_VENO_FINANCIAL_STATEMENTS_PER_DAY)(null,0,"date","desc"),r=(0,p.useQuery)(t.queryKey,t.queryFn,{keepPreviousData:!0}),a=r.data;return r.isLoading||!a?{loading:!0}:{loading:!1,data:W(a,!0)}}(h),j=N.data;return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"flex",children:[(0,g.jsx)(s.Z,{mode:l,onModeChange:function(e){return c(e)},className:"max-w-[325px]",modes:J}),"table"===l&&j&&(0,g.jsx)(u.CSVLink,{data:j,headers:Object.values(_),asyncOnClick:!0,filename:"export-table.csv",children:(0,g.jsx)(i.JO.ExternalURL,{color:"yellow",width:32,height:32,className:"mt-1"})})]}),(0,g.jsxs)("div",{className:"-mt-1 mobile:mt-0",children:["charts"===l&&(0,g.jsx)(P,{assetsMain:b,assetsVeno:y,assetsDefi:w,financialsMainData:t,financialsVenoData:r,financialsDefiData:a}),"table"===l&&(0,g.jsx)(Q,{pool:h,setPool:v})]})]})},$=r(16893),ee=r(52426),te=r(34643),re=r(2450),ae=r(57845),ne={all:"All",supply:"Supply",borrow:"Borrow",redeem:"Redeem",repay:"Repay",liquidation:"Liquidation"};function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ie=function(e){var t=(new Date).getTime()/1e3-e;return t<60?"".concat(Math.round(t)," seconds"):t<3600?"".concat(Math.round(t/60)," minutes"):t<86400?"".concat(Math.round(t/1440)," hours"):"".concat(Math.round(t/86400)," days")};function le(e){var t=e.page,r=e.filter,a=e.nPages,n=e.setPage,o=e.setFilter,s=e.transactions,d=e.isLoading,u=e.pool,p=e.setPool,m=(0,c.Z)();return(0,g.jsxs)("div",{className:"mt-4",children:[(0,g.jsx)("div",{className:"text-[20px] font-bold text-white",children:"Most recent transaction table"}),(0,g.jsx)("div",{className:"mt-2",children:(0,g.jsx)(A,{onChangeFilter:function(e){o("all"),n(1),p(e)},pool:u})}),(0,g.jsxs)("div",{className:"mt-2 flex h-[24px] flex-row items-end text-[14px] font-medium text-white mobile:h-[21px] mobile:font-normal",children:[(0,g.jsx)("div",{className:"text-[16px] mobile:text-[14px]",children:"Transaction type:"}),(0,g.jsx)(i.Lt,{className:"ml-[6px] h-[20px] text-[12px] font-semibold mobile:h-[19px]",onChange:function(e){o(e),n(1)},value:r,displayValue:(0,g.jsx)(te.i7,{displayValues:ne}),children:(0,g.jsx)(te.oi,{displayValues:ne})})]}),(0,g.jsxs)("div",{className:"mt-3 mobile:w-screen",children:[(0,g.jsx)("div",{className:"flex w-full flex-row overflow-auto",children:d?(0,g.jsx)("div",{className:"w-full",children:(0,g.jsx)(i.Od,{})}):(0,g.jsxs)(i.iA,{className:"min-w-[900px] mobile:mr-4 mobile:border-white mobile:border-opacity-30",style:{backgroundColor:m?"#0D0D2F":"#191945"},children:[(0,g.jsx)(i.iA.Header,{className:"text-[16px] font-semibold mobile:text-[14px]",children:(0,g.jsxs)(i.iA.HeaderRow,{children:[(0,g.jsx)(i.iA.HeaderCell,{className:"mobile:font-semibold",children:"Action"}),(0,g.jsx)(i.iA.HeaderCell,{className:"mobile:font-semibold",children:"Total value"}),(0,g.jsx)(i.iA.HeaderCell,{className:"mobile:font-semibold",children:"Token amount"}),(0,g.jsx)(i.iA.HeaderCell,{className:"mobile:font-semibold",children:"Account"}),(0,g.jsx)(i.iA.HeaderCell,{className:"mobile:font-semibold",children:"Time"})]})}),(0,g.jsxs)(i.iA.Body,{className:"text-[12px] font-medium ",children:[s.map((function(e){return(0,g.jsxs)(i.iA.BodyRow,{className:"text-white text-opacity-60 mobile:border-white mobile:border-opacity-30",children:[(0,g.jsx)(i.iA.BodyCell,{children:(0,g.jsxs)("div",{className:"flex-start flex items-center",children:[(0,g.jsx)("div",{children:e.action}),(0,g.jsx)("div",{className:"ml-0.5",children:(0,g.jsx)("a",{href:e.actionExplorerUrl,target:"_blank",rel:"noopener noreferrer",children:(0,g.jsx)(i.JO.ExternalURL,{className:"text-yellowPrimary"})})})]})}),(0,g.jsx)(i.iA.BodyCell,{children:e.totalValue}),(0,g.jsxs)(i.iA.BodyCell,{children:[(0,g.jsxs)("div",{className:"flex flex-row gap-0.5",children:[(0,g.jsx)(i.Y_,{widthClassName:"w-[16px]",heightClassName:"h-[16px]",name:e.tokenImageUrl,src:e.tokenImageUrl}),e.tokenAmount]})," "]}),(0,g.jsx)(i.iA.BodyCell,{children:(0,g.jsxs)("div",{className:"flex-start flex items-center",children:[(0,g.jsx)("div",{children:e.account}),(0,g.jsx)("div",{className:"ml-0.5",children:(0,g.jsx)("a",{href:e.accountExplorerUrl,target:"_blank",rel:"noreferrer",children:(0,g.jsx)(i.JO.ExternalURL,{className:"text-yellowPrimary"})})})]})}),(0,g.jsx)(i.iA.BodyCell,{children:e.time})]},e.actionExplorerUrl+e.action+e.tokenAmount)})),a>1&&(0,g.jsx)(i.iA.BodyRow,{className:"w-full text-center text-white mobile:hidden",children:(0,g.jsx)("td",{colSpan:5,children:(0,g.jsx)("p",{className:"flex w-full items-center justify-center",children:(0,g.jsxs)("span",{className:"flex w-[200px] items-center justify-between",children:[(0,g.jsx)(i.JO.Arrow,{width:32,height:32,onClick:function(){return t>1&&n(t-1)},className:(0,l.Z)("text-white",t<=1?"opacity-30":"cursor-pointer")}),(0,g.jsxs)("span",{className:"text-[16px] font-medium text-white",children:["Page ",t," of ",a]}),(0,g.jsx)(i.JO.Arrow,{width:32,height:32,onClick:function(){return t<a&&n(t+1)},className:(0,l.Z)("rotate-180 text-white",t>=a?"opacity-30":"cursor-pointer")})]})})})})]})]})}),a>1&&(0,g.jsx)("div",{className:"mt-2 hidden w-full items-center justify-center mobile:flex",children:(0,g.jsxs)("span",{className:"flex w-[200px] items-center justify-between",children:[(0,g.jsx)(i.JO.Arrow,{width:32,height:32,"data-testid":"prevPage",onClick:function(){return t>1&&n(t-1)},className:(0,l.Z)("text-white",t<=1?"opacity-30":"cursor-pointer")}),(0,g.jsxs)("span",{className:"text-[16px] font-medium text-white",children:["Page ",t," of ",a]}),(0,g.jsx)(i.JO.Arrow,{width:32,height:32,"data-testid":"nextPage",onClick:function(){return t<a&&n(t+1)},className:(0,l.Z)("rotate-180 text-white",t>=a?"opacity-30":"cursor-pointer")})]})})]})]})}var ce=function(){var e=(0,n.useState)(1),t=e[0],r=e[1],a=(0,n.useState)("all"),o=a[0],s=a[1],i=(0,n.useState)("MAIN"),l=i[0],c=i[1],d=function(e,t,r){var a,o=(0,n.useContext)(ae.q8),s=(0,m.p)("MAIN"===r?x.S.GRAPH_TRANSACTION_EVENTS:"VENO"===r?x.S.GRAPH_VENO_TRANSACTION_EVENTS:x.S.GRAPH_DEFI_TRANSACTION_EVENTS)(10*(t-1),e),i=(0,p.useQuery)(s.queryKey,s.queryFn,{keepPreviousData:!0}),l=i.data,c=i.isLoading,d=(0,n.useMemo)((function(){return null===l||void 0===l?void 0:l.transactionEvents.map((function(e){var t,r;return{action:(e.type.length>=1?e.type.charAt(0).toUpperCase()+e.type.slice(1):"")+" "+e.tokenSymbol,actionExplorerUrl:"".concat(ee.sn,"/tx/").concat(e.id.split("-")[0]),accountExplorerUrl:"".concat(ee.sn,"/address/").concat(e.address),totalValue:"$"+parseFloat(e.valueInUsd).toFixed(2),tokenAmount:b()(e.tokenAmount).format({thousandSeparated:!0,mantissa:null!==(t=re.hL[e.tokenSymbol])&&void 0!==t?t:4})+" "+e.tokenSymbol,tokenImageUrl:null!==(r=(0,$.Z)(e.tokenSymbol))&&void 0!==r?r:"",address:e.address,account:e.address.slice(0,4)+"..."+e.address.slice(e.address.length-4),time:ie(e.date)}}))}),[null===l||void 0===l?void 0:l.transactionEvents]),u=(null===d||void 0===d?void 0:d.map((function(e){return(0,m.p)(x.S.ENS_PROVIDER_ADDRESS)(o,e.address)})))||[],f=(0,p.useQueries)(u);return c||!l?{isLoading:!0}:{isLoading:!1,count:l.count,transactions:null!==(a=null===d||void 0===d?void 0:d.map((function(e,t){return se(se({},e),{},{account:f.length!==d.length||f[t].isLoading||!f[t].data?e.account:(0,ae.P9)(f[t].data)})})))&&void 0!==a?a:[]}}(o,t,l),u=d.transactions,f=d.isLoading,h=d.count;return(0,g.jsx)(le,{page:t,setPage:r,filter:o,setFilter:s,transactions:null!==u&&void 0!==u?u:[],nPages:Math.min(Math.ceil((null!==h&&void 0!==h?h:1)/10),10),isLoading:f,pool:l,setPool:c})},de=r(27812),ue=r(36968),pe=r.n(ue),me=r(27361),xe=r.n(me);function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ve=function(e){var t=e.supportedAssets,r=e.className,a=e.onActiveMarketsChanged,n=e.activeMarkets,o=t.map((function(e){var t;return he(he({},e),{},{logoUri:null!==(t=(0,$.Z)(e.symbol))&&void 0!==t?t:""})}));return(0,g.jsx)("div",{className:(0,l.Z)(r,"mx-auto flex flex-row flex-wrap gap-3 mobile:gap-1"),children:o.map((function(e){return(0,g.jsx)(i.l8,{className:"w-[80px] mobile:pt-1",logoUrl:e.logoUri,symbol:e.symbol,active:n.includes(e.symbol),onSetActive:function(t){a(t?[].concat((0,de.Z)(n),[e.symbol]):n.filter((function(t){return t!==e.symbol})))}},e.symbol)}))})};function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(e){var t=e.supportedAssets,r=e.supportedVenoAssets,a=e.supportedDefiAssets,n=e.state,o=e.setState,s=e.filteredSuppliersByMarketChartData,l=e.filteredBorrowersByMarketChartData,c=e.supplyBorrowAddressAmountAllData,d=e.supplyBorrowAddressAmountAllDataLoading,u=e.supplyAddressAmountData,p=e.borrowAddressAmountData,m=e.filteredBorrowersByMarketChartLoading,x=e.filteredSuppliersByMarketChartLoading,f=e.supplyBorrowAddressAmountDataLoading,h=e.onFilterChange,v=e.filters,b=s.reduce((function(e,t){return t.addressAmount+e}),0),y=l.reduce((function(e,t){return t.addressAmount+e}),0),w=function(e){return"VENO"===e?r:"DEFI"===e?a:t};return(0,g.jsxs)("div",{className:"flex flex-col justify-start gap-3 mobile:gap-10",children:[(0,g.jsxs)("div",{className:"flex w-full flex-row gap-2 mobile:flex-wrap mobile:gap-10",children:[(0,g.jsx)("div",{className:"w-1/2 grow-0 border-1 border-white border-opacity-12 mobile:w-full mobile:border-0",children:(0,g.jsxs)("div",{className:"flex flex-col gap-3 p-2 py-3 mobile:gap-2 mobile:p-0",children:[(0,g.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,g.jsx)("div",{className:"text-[20px] font-bold text-white",children:"Suppliers by market"}),(0,g.jsx)("div",{className:"text-[14px] font-normal",children:"Select/deselect markets by clicking on the token icons"})]}),(0,g.jsx)(A,{onChangeFilter:function(e){return h(e,"activeMarketsSupplierChart","activeMarketsSupplierChartFilter")},pool:v.activeMarketsSupplierChartFilter}),(0,g.jsxs)("div",{className:"flex flex-row items-center justify-between mobile:flex-col-reverse mobile:items-start mobile:justify-start mobile:gap-3",children:[(0,g.jsx)("div",{className:"relative h-[260px] w-[260px]",children:x?(0,g.jsx)(i.Od,{className:"h-[260px]",variant:"circle"}):(0,g.jsx)(i.uc,{data:s.map((function(e){return{letter:e.market,frequency:e.addressAmount/b}})),width:260,height:260,percentageValues:!0})}),(0,g.jsx)("div",{className:"mx-auto max-w-[200px] grow-0 mobile:mx-0 mobile:w-full mobile:max-w-none",children:(0,g.jsx)(ve,{className:"justify-start",activeMarkets:n.activeMarketsSupplierChart,supportedAssets:w(v.activeMarketsSupplierChartFilter),onActiveMarketsChanged:function(e){return o(ye(ye({},n),{},{activeMarketsSupplierChart:e}))}})})]})]})}),(0,g.jsx)("div",{className:"w-1/2 grow-0 border-1 border-white border-opacity-12 mobile:w-full mobile:border-0",children:(0,g.jsxs)("div",{className:"flex flex-col gap-3 p-2 py-3 mobile:p-0",children:[(0,g.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,g.jsx)("div",{className:"text-[20px] font-bold text-white",children:"Borrowers by market"}),(0,g.jsx)("div",{className:"text-[14px] font-normal",children:"Select/deselect markets by clicking on the token icons"})]}),(0,g.jsx)(A,{onChangeFilter:function(e){return h(e,"activeMarketsBorrowerChart","activeMarketsBorrowerChartFilter")},pool:v.activeMarketsBorrowerChartFilter}),(0,g.jsxs)("div",{className:"flex flex-row items-center justify-between mobile:flex-col-reverse mobile:items-start mobile:justify-start mobile:gap-3",children:[(0,g.jsx)("div",{className:"relative h-[260px] w-[260px]",children:m?(0,g.jsx)(i.Od,{className:"h-[260px]",variant:"circle"}):(0,g.jsx)(i.uc,{data:l.map((function(e){return{letter:e.market,frequency:e.addressAmount/y}})),width:260,height:260,percentageValues:!0})}),(0,g.jsx)("div",{className:"mx-auto max-w-[200px] grow-0 mobile:mx-0 mobile:w-full mobile:max-w-none",children:(0,g.jsx)(ve,{className:"justify-start",activeMarkets:n.activeMarketsBorrowerChart,supportedAssets:w(v.activeMarketsBorrowerChartFilter),onActiveMarketsChanged:function(e){return o(ye(ye({},n),{},{activeMarketsBorrowerChart:e}))}})})]})]})})]}),(0,g.jsx)("div",{className:"w-full grow-0 border-1 border-white border-opacity-12 mobile:border-0",children:(0,g.jsxs)("div",{className:"flex flex-col p-2 py-3 mobile:p-0",children:[(0,g.jsx)("div",{className:"flex flex-col gap-2",children:(0,g.jsx)("div",{className:"text-[20px] font-bold text-white",children:"No. of Suppliers & Borrowers"})}),(0,g.jsx)("div",{className:"mt-1",children:(0,g.jsx)(A,{onChangeFilter:function(e){return h(e,"","activeMarketsNumberSupplierBorrowerChartFilter")},pool:v.activeMarketsNumberSupplierBorrowerChartFilter})}),(0,g.jsx)("div",{className:"w-ful mb-4 h-[360px]",children:!d&&null!==c&&void 0!==c&&c.length?(0,g.jsx)(i.vz,{data:c}):(0,g.jsx)(i.Od,{className:"h-[360px]"})})]})}),(0,g.jsx)("div",{className:"w-full grow-0 border-1 border-white border-opacity-12 mobile:border-0",children:(0,g.jsxs)("div",{className:"flex flex-col gap-x-3 p-2 py-3 mobile:p-0",children:[(0,g.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,g.jsx)("div",{className:"text-[20px] font-bold text-white",children:"No. of Suppliers by Market"}),(0,g.jsx)("div",{className:"text-[14px] font-normal",children:"Select/deselect markets by clicking on the token icons"}),(0,g.jsx)(A,{onChangeFilter:function(e){return h(e,"activeMarketsNumberSupplierChart","activeMarketsNumberSupplierChartFilter")},pool:v.activeMarketsNumberSupplierChartFilter}),(0,g.jsx)("div",{className:"w-full",children:(0,g.jsx)(ve,{className:"justify-start",activeMarkets:n.activeMarketsNumberSupplierChart,supportedAssets:w(v.activeMarketsNumberSupplierChartFilter),onActiveMarketsChanged:function(e){return o(ye(ye({},n),{},{activeMarketsNumberSupplierChart:e}))}})})]}),(0,g.jsx)("div",{className:"h-[310px] w-full",children:!f&&u.length?(0,g.jsx)(i.vz,{data:u}):(0,g.jsx)(i.Od,{className:"h-[310px]"})})]})}),(0,g.jsx)("div",{className:"w-full grow-0 border-1 border-white border-opacity-12 mobile:border-0",children:(0,g.jsxs)("div",{className:"flex flex-col gap-x-3 p-2 py-3 mobile:p-0",children:[(0,g.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,g.jsx)("div",{className:"text-[20px] font-bold text-white",children:"No. of Borrowers by Market"}),(0,g.jsx)("div",{className:"text-[14px] font-normal",children:"Select/deselect markets by clicking on the token icons"}),(0,g.jsx)(A,{onChangeFilter:function(e){return h(e,"activeMarketsNumberBorrowerChart","activeMarketsNumberBorrowerChartFilter")},pool:v.activeMarketsNumberBorrowerChartFilter}),(0,g.jsx)("div",{className:"w-full",children:(0,g.jsx)(ve,{className:"justify-start",activeMarkets:n.activeMarketsNumberBorrowerChart,supportedAssets:w(v.activeMarketsNumberBorrowerChartFilter),onActiveMarketsChanged:function(e){return o(ye(ye({},n),{},{activeMarketsNumberBorrowerChart:e}))}})})]}),(0,g.jsx)("div",{className:"h-[310px] w-full",children:!f&&p.length?(0,g.jsx)(i.vz,{data:p}):(0,g.jsx)(i.Od,{className:"h-[310px]"})})]})})]})}var Ne=function(){var e=(0,f.X0)().list,t=(0,f.X0)("VENO").list,r=(0,f.X0)("DEFI").list,a=(0,n.useState)({activeMarketsSupplierChartFilter:"MAIN",activeMarketsBorrowerChartFilter:"MAIN",activeMarketsNumberSupplierBorrowerChartFilter:"MAIN",activeMarketsNumberSupplierChartFilter:"MAIN",activeMarketsNumberBorrowerChartFilter:"MAIN"}),o=a[0],s=a[1],i=e.map((function(e){return e.symbol})),l=t.map((function(e){return e.symbol})),d=r.map((function(e){return e.symbol})),u=(0,n.useState)({activeMarketsSupplierChart:i,activeMarketsBorrowerChart:i,activeMarketsNumberSupplierChart:i,activeMarketsNumberBorrowerChart:i}),v=u[0],b=u[1],y=(0,m.p)(x.S.GRAPH_ASSIST_INFOS),w=(0,p.useQuery)(y.queryKey,y.queryFn),N=w.data,j=w.isLoading,A=(0,m.p)(x.S.GRAPH_VENO_ASSIST_INFOS),S=(0,p.useQuery)(A.queryKey,A.queryFn),O=S.data,I=S.isLoading,D=(0,m.p)(x.S.GRAPH_DEFI_ASSIST_INFOS),U=(0,p.useQuery)(D.queryKey,D.queryFn),k=U.data,C=U.isLoading,B=(0,n.useMemo)((function(){return"VENO"===o.activeMarketsSupplierChartFilter?O?O.map((function(e){return{market:e.market.slice(1,-1),addressAmount:v.activeMarketsSupplierChart.includes(e.market.slice(1,-1))?parseInt(e.totalSupplierUniqueAddressAmount):0}})):[]:"DEFI"===o.activeMarketsSupplierChartFilter?k?k.map((function(e){return{market:e.market.slice(1,-1),addressAmount:v.activeMarketsSupplierChart.includes(e.market.slice(1,-1))?parseInt(e.totalSupplierUniqueAddressAmount):0}})):[]:N?N.map((function(e){return{market:e.market.slice(1),addressAmount:v.activeMarketsSupplierChart.includes(e.market.slice(1))?parseInt(e.totalSupplierUniqueAddressAmount):0}})):[]}),[N,O,k,o.activeMarketsSupplierChartFilter,v.activeMarketsSupplierChart]),F=(0,n.useMemo)((function(){return"VENO"===o.activeMarketsBorrowerChartFilter?O?O.map((function(e){return{market:e.market.slice(1,-1),addressAmount:v.activeMarketsBorrowerChart.includes(e.market.slice(1,-1))?parseInt(e.totalBorrowerUniqueAddressAmount):0}})):[]:"DEFI"===o.activeMarketsBorrowerChartFilter?k?k.map((function(e){return{market:e.market.slice(1,-1),addressAmount:v.activeMarketsBorrowerChart.includes(e.market.slice(1,-1))?parseInt(e.totalBorrowerUniqueAddressAmount):0}})):[]:N?N.map((function(e){return{market:e.market.slice(1),addressAmount:v.activeMarketsBorrowerChart.includes(e.market.slice(1))?parseInt(e.totalBorrowerUniqueAddressAmount):0}})):[]}),[N,O,k,o.activeMarketsBorrowerChartFilter,v.activeMarketsBorrowerChart]),M=[].concat((0,de.Z)(v.activeMarketsBorrowerChart),(0,de.Z)(v.activeMarketsSupplierChart)).filter((function(e,t,r){return r.indexOf(e)===t})),T=(0,c.Z)()?60:365,L=[].concat((0,de.Z)(i.map((function(e){return"t".concat(e)}))),["_ALL"]).map((function(e){return(0,m.p)(x.S.GRAPH_FINANCIALS_ADDRESS_AMOUNTS)(e,"desc",T)})),P=[].concat((0,de.Z)(l.map((function(e){return"t".concat(e,"l")}))),["_ALL"]).map((function(e){return(0,m.p)(x.S.GRAPH_VENO_FINANCIALS_ADDRESS_AMOUNTS)(e,"desc",T)})),R=([].concat((0,de.Z)(d.map((function(e){return"t".concat(e,"l")}))),["_ALL"]).map((function(e){return(0,m.p)(x.S.GRAPH_DEFI_FINANCIALS_ADDRESS_AMOUNTS)(e,"desc",T)})),(0,p.useQuery)((0,m.p)("VENO"===o.activeMarketsNumberSupplierBorrowerChartFilter?x.S.GRAPH_VENO_FINANCIALS_ADDRESS_AMOUNTS:"DEFI"===o.activeMarketsNumberSupplierBorrowerChartFilter?x.S.GRAPH_DEFI_FINANCIALS_ADDRESS_AMOUNTS:x.S.GRAPH_FINANCIALS_ADDRESS_AMOUNTS)("_ALL","desc",T))),E=R.data,_=R.isLoading,q=function(e){var t=new Date(1e3*Number(e)),r=t.toLocaleString("en-US",{year:"numeric"}),a=t.toLocaleString("en-US",{month:"2-digit"}),n=t.toLocaleString("en-US",{day:"2-digit"});return"".concat(r,"-").concat(a,"-").concat(n)},V=(0,de.Z)((null===E||void 0===E?void 0:E.map((function(e){return{date:q(e.date),suppliers:Number(e.totalSupplierUniqueAddressAmount),borrowers:Number(e.totalBorrowerUniqueAddressAmount)}})).reverse())||[]),Z=(0,p.useQueries)(L.map((function(e,t){return ye(ye({},e),{},{enabled:M.includes(i[t])})}))).map((function(e,t){return ye(ye({},e),{},{data:(0,de.Z)(e.data||[]).reverse(),market:i[t]})})),H=(0,p.useQueries)(P.map((function(e,t){return ye(ye({},e),{},{enabled:M.includes(l[t])})}))).map((function(e,t){return ye(ye({},e),{},{data:(0,de.Z)(e.data||[]).reverse(),market:l[t]})})),G=(0,p.useQueries)(P.map((function(e,t){return ye(ye({},e),{},{enabled:M.includes(d[t])})}))).map((function(e,t){return ye(ye({},e),{},{data:(0,de.Z)(e.data||[]).reverse(),market:d[t]})})),W=function(e){return("VENO"===e?H:"DEFI"===e?G:Z).map((function(e){return{data:e.data,market:e.market}})).filter((function(e){return!!e.market}))},z=function(e){return("VENO"===e?H:"DEFI"===e?G:Z).map((function(e){return e.isLoading})).includes(!0)},K=(0,n.useCallback)((function(e,t,r){var a,n=[],o=null===(a=W(r)[0])||void 0===a?void 0:a.data;return null===o||void 0===o||o.forEach((function(a){var o,s=a.date,i={};null===(o=W(r))||void 0===o||o.forEach((function(r,a){var o;null===(o=r.data)||void 0===o||o.forEach((function(t){t.date===s&&(pe()(i,"date",s),pe()(i,r.market,t[e]))})),W.length-1===a&&(t.forEach((function(e){void 0===xe()(i,e)&&pe()(i,e,0)})),n.push(i))}))})),n.map((function(e,r){var a=0;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=e[o];"date"!==o&&(a+=Number(s))}for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=e[i];"date"===i?n[r][i]=q(Number(l)):t.includes(i)?n[r][i]=isNaN(Number(l)/a)?0:Number(l)/a:delete n[r][i]}})),n}),[W]),Y=z(o.activeMarketsNumberSupplierChartFilter)?[]:K("totalSupplierUniqueAddressAmount",v.activeMarketsNumberSupplierChart,o.activeMarketsNumberSupplierChartFilter),Q=z(o.activeMarketsNumberBorrowerChartFilter)?[]:K("totalBorrowerUniqueAddressAmount",v.activeMarketsNumberBorrowerChart,o.activeMarketsNumberBorrowerChartFilter);return(0,g.jsx)(we,{supportedAssets:e,supportedVenoAssets:t,supportedDefiAssets:r,state:v,setState:b,filteredBorrowersByMarketChartData:F,filteredSuppliersByMarketChartData:B,filteredBorrowersByMarketChartLoading:"MAIN"===o.activeMarketsBorrowerChartFilter?j:"DEFI"===o.activeMarketsBorrowerChartFilter?C:I,filteredSuppliersByMarketChartLoading:"MAIN"===o.activeMarketsSupplierChartFilter?j:"DEFI"===o.activeMarketsBorrowerChartFilter?C:I,supplyBorrowAddressAmountDataLoading:z(o.activeMarketsNumberBorrowerChartFilter),supplyBorrowAddressAmountAllData:V,supplyBorrowAddressAmountAllDataLoading:_,supplyAddressAmountData:Y,borrowAddressAmountData:Q,onFilterChange:function(a,n,i){b(ye(ye({},v),{},(0,h.Z)({},n,"VENO"===a?t.map((function(e){return e.symbol})):"DEFI"===a?r.map((function(e){return e.symbol})):e.map((function(e){return e.symbol}))))),s(ye(ye({},o),{},(0,h.Z)({},i,a)))},filters:o})},je=function(e){var t=e.financialsData,r=e.financialsVenoData,a=e.financialsDefiData;return(0,g.jsxs)("div",{className:"flex gap-4 mobile:flex-wrap",children:[(0,g.jsxs)("div",{className:"flex shrink-0 grow flex-col",children:[(0,g.jsx)("div",{className:"text-[14px] mobile:text-[12px]",children:"Total Supply (USD)"}),(0,g.jsx)("div",{className:"text-[24px] font-medium mobile:text-[16px]",children:t&&r&&a?"$".concat(Math.round(t.totalSupplyInUsd+r.totalSupplyInUsd+a.totalSupplyInUsd).toLocaleString("en-US")):(0,g.jsx)(i.Od,{})})]}),(0,g.jsxs)("div",{className:"flex shrink-0 grow flex-col",children:[(0,g.jsx)("div",{className:"text-[14px] mobile:text-[12px]",children:"Utilisation"}),(0,g.jsx)("div",{className:"text-[24px] font-medium mobile:text-[16px]",children:t&&r&&a?"".concat((100*(t.totalUtilization+r.totalUtilization+a.totalUtilization)).toFixed(2),"%"):(0,g.jsx)(i.Od,{})})]}),(0,g.jsxs)("div",{className:"flex shrink-0 grow flex-col",children:[(0,g.jsx)("div",{className:"text-[14px] mobile:text-[12px]",children:"Total Borrow (USD)"}),(0,g.jsx)("div",{className:"text-[24px] font-medium mobile:text-[16px]",children:t&&r&&a?"$".concat(Math.round(t.totalBorrowInUsd+r.totalBorrowInUsd+a.totalBorrowInUsd).toLocaleString("en-US")):(0,g.jsx)(i.Od,{})})]})]})},ge=function(){var e=(0,m.p)(x.S.GRAPH_FINANCIALS_DATA),t=(0,p.useQuery)(e.queryKey,e.queryFn),r=t.data,a=t.isLoading;return(0,n.useMemo)((function(){return a||!r?{isLoading:a}:{isLoading:a,financialsData:r.map((function(e){var t=e.date,r=e.sumOfSuppliesInUsd,a=e.sumOfRedeemsInUsd,n=e.totalSupplyInUsd,o=e.sumOfBorrowsInUsd,s=e.sumOfRepaysInUsd,i=e.totalBorrowInUsd,l=e.totalUtilization;return{date:t,sumOfSuppliesInUsd:parseFloat(r),sumOfRedeemsInUsd:parseFloat(a),totalSupplyInUsd:parseFloat(n),sumOfBorrowsInUsd:parseFloat(o),sumOfRepaysInUsd:parseFloat(s),totalBorrowInUsd:parseFloat(i),totalUtilization:parseFloat(l)}})).reverse()}}),[a,r])},Ae=function(){var e=(0,m.p)(x.S.GRAPH_VENO_FINANCIALS_DATA),t=(0,p.useQuery)(e.queryKey,e.queryFn),r=t.data,a=t.isLoading;return(0,n.useMemo)((function(){return a||!r?{isLoading:a}:{isLoading:a,financialsVenoData:r.map((function(e){var t=e.date,r=e.sumOfSuppliesInUsd,a=e.sumOfRedeemsInUsd,n=e.totalSupplyInUsd,o=e.sumOfBorrowsInUsd,s=e.sumOfRepaysInUsd,i=e.totalBorrowInUsd,l=e.totalUtilization;return{date:t,sumOfSuppliesInUsd:parseFloat(r),sumOfRedeemsInUsd:parseFloat(a),totalSupplyInUsd:parseFloat(n),sumOfBorrowsInUsd:parseFloat(o),sumOfRepaysInUsd:parseFloat(s),totalBorrowInUsd:parseFloat(i),totalUtilization:parseFloat(l)}})).reverse()}}),[a,r])},Se=function(){var e=(0,m.p)(x.S.GRAPH_DEFI_FINANCIALS_DATA),t=(0,p.useQuery)(e.queryKey,e.queryFn),r=t.data,a=t.isLoading;return(0,n.useMemo)((function(){return a||!r?{isLoading:a}:{isLoading:a,financialsDefiData:r.map((function(e){var t=e.date,r=e.sumOfSuppliesInUsd,a=e.sumOfRedeemsInUsd,n=e.totalSupplyInUsd,o=e.sumOfBorrowsInUsd,s=e.sumOfRepaysInUsd,i=e.totalBorrowInUsd,l=e.totalUtilization;return{date:t,sumOfSuppliesInUsd:parseFloat(r),sumOfRedeemsInUsd:parseFloat(a),totalSupplyInUsd:parseFloat(n),sumOfBorrowsInUsd:parseFloat(o),sumOfRepaysInUsd:parseFloat(s),totalBorrowInUsd:parseFloat(i),totalUtilization:parseFloat(l)}})).reverse()}}),[a,r])};function Oe(e){var t=e.isMobile,r=e.activeView,a=e.setActiveView,n=e.financialsMainData,o=e.financialsVenoData,s=e.financialsDefiData;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(i.NP,{contentWrapperClassName:"w-full",children:[(0,g.jsxs)("div",{className:"border-1 border-white border-opacity-12 bg-darkerBlue p-2 text-white mobile:border-opacity-30",children:[(0,g.jsx)(d.Z.TonicAnalyticsModeSwitch,{children:(0,g.jsxs)("div",{className:(0,l.Z)("flex w-full flex-row gap-3 text-[13px]",{"mb-5":"markets"===r&&!t,"mb-3":"markets"!==r&&!t||"financials"===r}),children:[(0,g.jsx)(i.EU,{label:"Financials",onClick:function(){return a("financials")},active:"financials"===r,className:"items-center"}),(0,g.jsx)(d.Z.AnalyticsMarkets,{children:(0,g.jsx)(i.EU,{label:"Markets",onClick:function(){return a("markets")},active:"markets"===r,className:"items-center"})}),(0,g.jsx)(i.EU,{label:"Activity",onClick:function(){return a("activity")},active:"activity"===r,className:"items-center"})]})}),"financials"===r&&(0,g.jsx)(je,{financialsData:null===n||void 0===n?void 0:n.slice(-1)[0],financialsVenoData:null===o||void 0===o?void 0:o.slice(-1)[0],financialsDefiData:null===s||void 0===s?void 0:s.slice(-1)[0]}),"activity"===r&&!t&&(0,g.jsx)(ce,{}),"markets"===r&&!t&&(0,g.jsx)(Ne,{})]}),"activity"===r&&t&&(0,g.jsx)(ce,{})]}),"financials"===r&&(0,g.jsx)(i.NP,{className:"mt-3",contentWrapperClassName:"w-full",children:(0,g.jsx)("div",{className:"border-1 border-white border-opacity-12 bg-darkerBlue p-2 pt-3 text-white desktop:overflow-x-clip tablet:overflow-x-clip mobile:border-none mobile:bg-transparent mobile:px-0",children:(0,g.jsx)(X,{financialsData:n,financialsVenoData:o,financialsDefiData:s})})}),"markets"===r&&t&&(0,g.jsx)(i.NP,{className:"mt-3",contentWrapperClassName:"w-full",children:(0,g.jsx)("div",{className:"border-1 border-white border-opacity-12 bg-darkerBlue p-2 pt-3 text-white mobile:border-none mobile:bg-transparent mobile:px-0",children:(0,g.jsx)(Ne,{})})})]})}var Ie=function(){var e=(0,c.Z)(),t=(0,n.useState)("financials"),r=t[0],a=t[1],o=ge().financialsData,s=Ae().financialsVenoData,i=Se().financialsDefiData;return(0,g.jsx)(Oe,{isMobile:e,activeView:r,setActiveView:a,financialsMainData:o,financialsVenoData:s,financialsDefiData:i})},De=[{mode:"tonic",text:"TONIC"},{mode:"xtonic",text:"xTONIC"}],Ue=r(784),ke=r(5615),Ce=r(11541),Be=r(27739),Fe=(0,i.JH)({}).theme,Me=function(){var e=(0,n.useState)("SIX_MONTHS"),t=e[0],r=e[1],a=(0,Ce.Z)(t),o=a.xtonicAprs,s=a.isLoading,l=(0,Be.Z)(),c=l.xtonicStats,d=l.isLoading;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.NP,{contentWrapperClassName:"w-full",className:"mb-2",children:(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-x-2 gap-y-4 border-1 border-white border-opacity-12 bg-darkerBlue p-2 text-white mobile:grid-cols-2",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"mb-1 text-[14px] mobile:text-[12px]",children:"xTONIC Price (USD)"}),d||!c?(0,g.jsx)(i.Od,{}):(0,g.jsx)("div",{className:"text-large font-medium mobile:text-body",children:c.xTonicPriceInUsd.toFixed(10)})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"mb-1 text-[14px] mobile:text-[12px]",children:"xTONIC Market Cap"}),d||!c?(0,g.jsx)(i.Od,{}):(0,g.jsxs)("div",{className:"text-large font-medium mobile:text-body",children:["$",c.xTonicMarketCap.toLocaleString()]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"mb-1 text-[14px] mobile:text-[12px]",children:"xTONIC Total Supply"}),d||!c?(0,g.jsx)(i.Od,{}):(0,g.jsx)("div",{className:"text-large font-medium mobile:text-body",children:Math.round(c.xTonicTotalSupply).toLocaleString()})]}),(0,g.jsxs)("div",{className:"hidden mobile:block",children:[(0,g.jsx)("div",{className:"mb-1 text-[12px]",children:"xTONIC:TONIC"}),d||!c?(0,g.jsx)(i.Od,{}):(0,g.jsx)("div",{className:"text-body font-medium",children:c.xTonicExchangeRate.toFixed(4)})]}),(0,g.jsxs)("div",{className:"hidden mobile:block",children:[(0,g.jsx)("div",{className:"mb-1 whitespace-nowrap text-[12px]",children:"Average Lock Time"}),d||!c?(0,g.jsx)(i.Od,{}):(0,g.jsx)("div",{className:"text-body font-medium",children:(0,Ue.Z)((0,ke.Z)({start:0,end:1e3*c.avgLockTime}),{format:["years","months"]}).replace(/[a-z]+/g,(function(e){return e[0]}))})]}),(0,g.jsxs)("div",{className:"hidden mobile:block",children:[(0,g.jsx)("div",{className:"mb-1 whitespace-nowrap text-[12px]",children:"APR (7D)"}),d||!c?(0,g.jsx)(i.Od,{}):(0,g.jsxs)("div",{className:"text-body font-medium",children:[(100*c.apr7d).toFixed(2),"%"]})]}),(0,g.jsxs)("div",{className:"hidden mobile:block",children:[(0,g.jsx)("div",{className:"mb-1 whitespace-nowrap text-[12px]",children:"TONIC staked for xTONIC"}),d||!c?(0,g.jsx)(i.Od,{}):(0,g.jsx)("div",{className:"text-body font-medium",children:Math.round(c.stakedTonic).toLocaleString()})]})]})}),(0,g.jsx)(i.NP,{contentWrapperClassName:"w-full",className:"mb-2 mobile:hidden",children:(0,g.jsxs)("div",{className:"flex gap-[160px] border-1 border-white border-opacity-12 bg-darkerBlue p-2 text-white tablet:gap-2",children:[(0,g.jsxs)("div",{className:"flex-auto",children:[(0,g.jsx)("div",{className:"mb-1 text-[14px]",children:"xTONIC:TONIC"}),d||!c?(0,g.jsx)(i.Od,{}):(0,g.jsx)("div",{className:"text-large font-medium",children:c.xTonicExchangeRate.toFixed(4)})]}),(0,g.jsxs)("div",{className:"flex-auto",children:[(0,g.jsx)("div",{className:"mb-1 text-[14px]",children:"TONIC staked for xTONIC"}),d||!c?(0,g.jsx)(i.Od,{}):(0,g.jsx)("div",{className:"text-large font-medium",children:Math.round(c.stakedTonic).toLocaleString()})]}),(0,g.jsxs)("div",{className:"flex-auto",children:[(0,g.jsx)("div",{className:"mb-1 text-[14px]",children:"Average Lock Time"}),d||!c?(0,g.jsx)(i.Od,{}):(0,g.jsx)("div",{className:"text-large font-medium",children:(0,Ue.Z)((0,ke.Z)({start:0,end:1e3*c.avgLockTime}),{format:["years","months"]}).replace(/[a-z]+/g,(function(e){return e[0]}))})]}),(0,g.jsxs)("div",{className:"flex-auto",children:[(0,g.jsx)("div",{className:"mb-1 text-[14px]",children:"APR (7D)"}),d||!c?(0,g.jsx)(i.Od,{}):(0,g.jsxs)("div",{className:"text-large font-medium",children:[(100*c.apr7d).toFixed(2),"%"]})]})]})}),(0,g.jsx)("div",{className:"w-full desktop:px-4 tablet:px-4 mobile:px-2",children:(0,g.jsxs)("div",{className:"mx-auto flex flex-col  gap-1 border-1 border-white border-opacity-12 bg-darkerBlue p-2 text-white desktop:max-w-desktopContainer mobile:border-0 mobile:bg-transparent",children:[(0,g.jsx)("div",{className:"mb-1 text-[20px] font-bold",children:"xTONIC APR"}),(0,g.jsxs)("div",{className:"flex h-[24px] flex-row items-end text-[14px] font-medium text-white mobile:h-[21px] mobile:font-normal",children:[(0,g.jsx)("div",{className:"text-[16px] mobile:text-[14px]",children:"Show:"}),(0,g.jsxs)(i.Lt,{className:"ml-[6px] h-[20px] text-[12px] font-semibold mobile:h-[19px]",value:t,displayValue:"ONE_MONTH"===t?"1 MONTH":"6 MONTHS",onChange:function(e){return r(e)},children:[(0,g.jsx)(N.Z,{value:"SIX_MONTHS",children:"6 months"}),(0,g.jsx)(N.Z,{value:"ONE_MONTH",className:"border-t-[1px] border-greyBorder",children:"1 month"})]})]}),!s&&o&&o.length>0?(0,g.jsx)("div",{className:"relative mx-auto h-[200px] w-full",children:(0,g.jsx)(i.wW,{data:[o.map((function(e){return{x:e.date,y:e.apr,label:"XTONIC"}}))],legend:{XTONIC:{color:Fe.colors.pinkSecondary}},xTickFormat:function(e){return new Date(1e3*Number(e)).toLocaleString("en-US",{month:"short",day:"numeric"})},yTickFormat:function(e){return(100*Number(e)).toString()},tooltipYValueFormat:function(e){return"".concat((100*e).toFixed(2),"%")},smooth:!0,gradient:!0})}):(0,g.jsx)(i.Od,{})]})})]})};var Te=function(e){var t=e.mode,r=e.onModeChange;return(0,g.jsxs)("div",{className:"mobile:pb-3",children:[(0,g.jsx)("div",{className:"mb-3 bg-darkerBlue pt-3 mobile:bg-transparent",children:(0,g.jsx)(s.Z,{mode:t,onModeChange:r,className:"max-w-[170px] mobile:max-w-[147px]",modes:De,variant:"tabs"})}),(0,g.jsx)(g.Fragment,{children:"tonic"===t?(0,g.jsx)(Ie,{}):(0,g.jsx)(Me,{})})]})};function Le(){var e=(0,n.useState)("tonic"),t=e[0],r=e[1];return(0,g.jsx)("div",{className:"-mt-3 flex flex-1 flex-col overflow-auto overflow-x-hidden mobile:mt-auto",children:(0,g.jsx)(Te,{mode:t,onModeChange:r})})}var Pe=r(52267),Re=r(56531);var Ee=function(){var e=(0,a.useRouter)(),t=(0,Re.c)(Pe.Z.Analytics);return(0,n.useEffect)((function(){t||e.push("/")}),[e,t]),t?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.Z,{title:"Tectonic | Cross-chain Money Market | Lending & Borrowing",description:"Generate passive yield on your assets earn attractive APYs based on a dynamic rate or Get an instant loan quickly and easily by using USDC, WBTC, WETH, CRO as collateral with more supported coins to come."}),(0,g.jsx)(Le,{})]}):null}},78274:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics",function(){return r(84552)}])}},function(e){e.O(0,[890,774,888,179],(function(){return t=78274,e(e.s=t);var t}));var t=e.O();_N_E=t}]);